!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=3)}([function(t,n,e){"use strict";function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t,n){return $.ajax({type:"Get",url:t,dataType:"json",success:function(t){localStorage.setItem(n,JSON.stringify(t))},error:function(t){console.log(t)}})}function u(t){var n=localStorage.getItem(t);return null!==n?JSON.parse(n):null}function o(t,n){localStorage.setItem(t,JSON.stringify(n))}function a(t){return t.map((function(t){return t.ID})).reduce((function(t,n){return Math.max(t,n)}),0)+1}function l(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=u("line-data");if(null!==e){var r=e.filter((function(n){return n.specialist_id===t}));if(r.length>0){var i=u("line-clients");if(null!==i)return i.filter((function(t){return-1!==r.findIndex((function(n){return n.client_id===t.ID}))&&t.serviced===n}))}}return[]}function s(t){var n,e,r,i,c=u("line-specialists").find((function(n){return n.ID===t}));void 0!==c&&function(t,n){var e=u("line-data"),r=a(e);e.push({ID:r,client_id:t,specialist_id:n}),o("line-data",e)}((n=u("line-clients"),e=n.map((function(t){return t.number})).reduce((function(t,n){return Math.max(t,n)}),0)+1,r=a(n),i=(new Date).getTime(),n.push({ID:r,number:e,createdAt:i,serviced:!1}),o("line-clients",n),r),c.ID)}function f(t){var n=u("line-clients"),e=n.findIndex((function(n){return n.ID===t}));-1!==e&&(n[e].serviced=!0,n[e].endedAt=(new Date).getTime(),o("line-clients",n))}function d(){var t=(new Date).getTime();o("line-clients",u("line-clients").map((function(n){return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(e,!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},n,{createdAt:t,serviced:!1})})))}function p(t){var n=l(t,!0),e=n.reduce((function(t,n){return void 0!==n.endedAt?t+(n.endedAt-n.createdAt):t}),0)/n.length;return Number.isNaN(e)?0:Math.round(e)}function b(t){var n=u("line-clients").find((function(n){return n.number===t}));if(void 0!==n){var e=u("line-data").find((function(t){return t.client_id===n.ID}));if(void 0!==e){var r=p(e.specialist_id),i=l(e.specialist_id).sort((function(t,n){return t.number-n.number})).findIndex((function(t){return t.ID===n.ID}));if(-1!==i)return r*i}}return 0}e.d(n,"e",(function(){return c})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return s})),e.d(n,"f",(function(){return f})),e.d(n,"g",(function(){return d})),e.d(n,"b",(function(){return p})),e.d(n,"d",(function(){return b}))},function(t,n,e){"use strict";function r(){var t=localStorage.getItem("line-specialists"),n=$("#specialists-dropdown");null!==t&&($.each(JSON.parse(t),(function(t,e){n.append($('<a class="dropdown-item js-specialists-dropdown cursor-pointer" href="#" data-value='.concat(e.ID,">").concat(e.specialist,"</a>")))})),n.removeClass("d-none"))}function i(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=r>0?Math.round(r/1e3/60):0,c=i>0?"(apytikslis laukimo laikas: ".concat(i,"min.)"):"",u="<td ".concat(n?'class="bg-success"':"",">").concat(t.number," ").concat(c,"</td>"),o=e?'<td><button type="button" class="btn btn-success w-25 p-3 js-servised" data-value='.concat(t.ID,">Serviced</button></td>"):"";return"<tr>".concat(u).concat(o,"</tr>")}function c(t,n){$("#notifications-wrapper").append(function(t,n){return'<div class="alert alert-'.concat(t,' alert-dismissible fade show" role="alert">').concat(n).concat('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"</div>")}(t,n))}e.d(n,"c",(function(){return r})),e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return c}))},,function(t,n,e){"use strict";e.r(n);var r=e(1),i=e(0);Object(r.c)();var c=null,u=null;function o(t,n){$(".js-thead").html("<tr><th>".concat(t,"</th><tr>")),$(".js-tbody").html(n.sort((function(t,n){return t.number-n.number})).map((function(t,n){return Object(r.b)(t,0===n,!0)})).join(""))}$(".js-specialists-dropdown").click((function(t){c=parseInt(t.currentTarget.dataset.value,10),u=$(t.currentTarget).html();var n=Object(i.c)(c);o(u,n),$(".js-servised").click((function(t){var n=parseInt(t.currentTarget.dataset.value,10);Object(i.f)(n),Object(i.c)(c),o(u,Object(i.c)(c))}))}))}]);